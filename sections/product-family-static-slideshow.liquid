<script
  type="application/json"
  data-section-type="static-slideshow"
  data-section-id="{{ section.id }}"
  data-section-data
>
  {
    "enable_autoplay": {{ section.settings.enable_autoplay | json }},
    "autoplay_duration": {{ section.settings.autoplay_duration | json }}
  }
</script>

{% if section.settings.show_slideshow %}
  <section
    class="
      slideshow
      slideshow-dots-{{ section.settings.slideshow_height }}
    "
    aria-label="Slide show"
  >
    {% for block in section.blocks %}
      {% capture placeholder_slide_image %}
        {% capture current %}{% cycle 1, 2 %}{% endcapture %}
        {% assign placeholder_style = 'lifestyle-' | append: current %}
        {%-
          include 'placeholder_svg_uri'
          placeholder: placeholder_style
        -%}
      {% endcapture %}

      <div
        class="
          slideshow-slide
          slideshow-height-{{ section.settings.slideshow_height }}
        "
        tabindex="0"
        aria-label="Slide {{ forloop.index }} of {{ section.blocks.size }}"
        {{ block.shopify_attributes }}
      >
        {% if block.settings.link != blank %}
          <a
            class="
              slideshow-link
              slideshow-background-link
              slideshow-dynamic
            "
            href="{{ block.settings.link }}"
            tabindex="-1"
          ></a>
        {% endif %}

        {% assign slideshow_crop = 'center' %}

        {% if section.settings.slideshow_height == 'original' %}
          {% assign slideshow_crop = false %}
        {% endif %}
      <div class="slide-content-wrap">
        <div
          class="
            background-target
            slideshow-background
            slideshow-dynamic
            slideshow-background--{{ block.id }}
          ">
          <div
            class="
              slideshow-slide-content--{{ block.id }}
              text-align-{{ block.settings.text_alignment }}
              row
            "
          >
            <div class="col-8 offset-2 offset-md-0 col-md-6">
              <div class="video-container">
                <iframe width="560" height="315" src="{{ block.settings.video_url}}?controls=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
            </div>
            <div class="col-md-6 d-flex flex-column justify-content-center">
              <h1 class="hero__title" style="" alt="{{collection.handle}}">
                {{ collection.image | img_url: '300x' }}
              </h1>
            {% if block.settings.heading != blank %}
              <h1 class="hero__title" style="">
                {{ block.settings.heading }}
              </h1>
            {% endif %}
            {% if block.settings.copy != blank %}
              <p class="slideshow-slide-text">
                {{ block.settings.copy  }}
              </p>
            {% endif %}
            {% if block.settings.link != blank %}
              </a>
            {% endif %}
            </div>
          </div>
      </div>
      </div>
    {% endfor %}
</div>
    {%
      include 'slideshow-overlay',
      blocks: section.blocks
    %}
    {% comment %} {% include 'header-image-helper' %} {% endcomment %}
  </section>
{% endif %}
{% schema %}
{
  "name": "About Slideshow",
  "class": "slideshow--section",
  "settings": [
    {
      "id": "show_slideshow",
      "type": "checkbox",
      "label": "Enable slideshow",
      "default": true
    },
    {
      "id": "enable_autoplay",
      "type": "checkbox",
      "label": "Autoplay slideshow",
      "default": true
    },
    {
      "id": "autoplay_duration",
      "type": "range",
      "label": "Autoplay slide duration",
      "min": 5,
      "max": 12,
      "step": 1,
      "unit": "sec",
      "default": 8
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "id": "background_image",
          "type": "image_picker",
          "label": "Background image",
          "info": "1800x1000 recommended"
        },
        {
          "type": "image_picker",
          "id": "image_mobile",
          "label": "Image (Mobile View)"
        },
        {
          "id": "video_url",
          "type": "text",
          "label": "Video URL",
          "default": "https://www.youtube.com/embed/K538gxU8-Po",
          "info": "From the 'embed' option under the share menu"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Designed to Innovate Your Classroom"
        },
        {
          "type": "text",
          "id": "copy",
          "label": "Header Copy",
          "default": "In today's modern classroom, students have dozens of distractions vying for their attention. Boredom and disengagement are constant problems in the traditional classroom setting, and now students are consumed with ever increasing screen time as opposed to interacting with their teachers and peers. mcSquares enhance student learning experiences through haptic and kinesthetic learning, as well as allowing students to engage with each their classmates as well as their teachers."
        },
        {
          "id": "color",
          "type": "color",
          "label": "Text color",
          "default": "#FFFFFF"
        },
        {
          "id": "text_alignment",
          "type": "select",
          "label": "Text alignment",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        },
        {
          "type": "header",
          "content": "Buttons"
        }
      ]
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "slide"
      },
      {
        "type": "slide"
      }
    ]
  }
}

{% endschema %}
