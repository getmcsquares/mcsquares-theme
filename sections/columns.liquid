<div class="page-width">
  <div class="section-block">
    {% if section.settings.title != blank %}
      <div class="section-block__header section-block__header--padded text-center">
        <h4 class="h1--mini section-block__title">{{ section.settings.title | escape }}</h4>
      </div>
    {% endif %}

    <div class="flex column-flex">
      {% for block in section.blocks %}
        {% if block.settings.image != blank %}
          {% assign img_url = block.settings.image | img_url: '600x600' %}
        {% endif %}
        <div class="flex__item text-center" {{ block.shopify_attributes }}>
          {% if block.settings.image != blank %}
            <noscript>
              <div class="column-flex__image" style="background-image: url({{ block.settings.image | img_url: '600x600' }}); background-position: {{ block.settings.image_align }};"></div>
            </noscript>
            <div class="column-flex__image lazyload"
              style="background-position: {{ block.settings.image_align }}; background-image: url('{{ block.settings.image | img_url: '300x300' }});"
              data-bgset="{% include 'bgset', image: block.settings.image %}"
              data-sizes="auto"
              data-parent-fit="cover">
            </div>
          {% else %}
            <div class="column-flex__image">
              <div class="placeholder-background">
                {{ 'collection-1' | placeholder_svg_tag: 'placeholder-svg' }}
              </div>
            </div>
          {% endif %}
          <div class="column-flex__content">
            <p class="h5">{{ block.settings.title | escape }}</p>
            <div class="rte-setting">{{ block.settings.text }}</div>
          </div>
        </div>
      {% endfor %}
    </div>

    {% if section.blocks.size == 0 %}
      {% include 'no-blocks' %}
    {% endif %}
  </div>
</div>

{% schema %}
  {
    "name": {
      "pt-BR": "Texto com imagens",
      "it": "Colonne di testo con foto",
      "en": "Text columns with images",
      "es": "Col. de texto con imagen",
      "de": "Textspalten mit Fotos",
      "ja": "画像付きテキスト列",
      "fr": "Texte avec images"
    },
    "class": "index-section",
    "max_blocks": 3,
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": {
          "pt-BR": "Título",
          "it": "Heading",
          "en": "Heading",
          "es": "Título",
          "de": "Titel",
          "ja": "見出し",
          "fr": "Titre"
        },
        "default": {
          "pt-BR": "Colunas de texto com imagens",
          "it": "Colonne di testo con foto",
          "en": "Text columns with images",
          "es": "Col. de texto con imagen",
          "de": "Textspalten mit Fotos",
          "ja": "画像付きテキスト列",
          "fr": "Texte avec images"
        }
      }
    ],
    "blocks": [
      {
        "type": "text_block",
        "name": {
          "pt-BR": "Texto",
          "it": "Testo",
          "en": "Text",
          "es": "Texto",
          "de": "Text",
          "ja": "テキスト",
          "fr": "Texte"
        },
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": {
              "pt-BR": "Título",
              "it": "Heading",
              "en": "Heading",
              "es": "Título",
              "de": "Titel",
              "ja": "見出し",
              "fr": "Titre"
            },
            "default": {
              "pt-BR": "Adicione um título ou slogan",
              "it": "Aggiungi un titolo o una tagline",
              "en": "Add a title or tagline",
              "es": "Agregar un título o eslogan",
              "de": "Titel oder Text hinzufügen",
              "ja": "タイトルまたはタグラインを追加する",
              "fr": "Ajouter un titre ou un slogan"
            }
          },
          {
            "type": "richtext",
            "id": "text",
            "label": {
              "pt-BR": "Texto",
              "it": "Testo",
              "en": "Text",
              "es": "Texto",
              "de": "Text",
              "ja": "テキスト",
              "fr": "Texte"
            },
            "default": {
              "pt-BR": "<p>Compartilhe postagens de blogs, produtos ou promoções com seus clientes. Use este texto para descrever produtos, compartilhar detalhes sobre disponibilidade e estilo ou como um espaço para exibir comentários recentes ou perguntas frequentes.</p>",
              "it": "<p>Condividi articoli del blog, prodotti o promozioni con i tuoi clienti. Utilizza questo spazio per descrivere i prodotti, condividendo dettagli sulla loro disponibilità e sul loro stile, oppure per mostrare recensioni recenti o domande frequenti.</p>",
              "en": "<p>Share blog posts, products, or promotions with your customers. Use this text to describe products, share details on availability and style, or as a space to display recent reviews or FAQs.</p>",
              "es": "<p>Comparte entradas de blogs, productos o promociones con tus clientes. Usa este texto para describir productos, compartir detalles sobre la disponibilidad y el estilo, o como un espacio para mostrar reseñas recientes o preguntas frecuentes.</p>",
              "de": "<p>Blogposts, Produkte oder Promotions mit Ihren Kunden teilen. Nutzen Sie diesen Text, um Produkte zu beschreiben, Details zu Verfügbarkeit und Stil mitzuteilen oder als Ort, wo Reviews oder FAQs stehen.</p>",
              "ja": "<p>ブログ記事、商品、またはプロモーションをお客様に伝えます。このテキストで商品について説明し、公開状況やスタイルの詳細を共有するか、最近のレビューやFAQを表示するスペースとして使用します。</p>",
              "fr": "<p>Partagez des articles de blog, des produits ou des promotions avec vos clients. Utilisez ce texte pour décrire vos produits, partager des détails sur leur disponibilité ou leur style, ou encore pour afficher des FAQ et avis récents.</p>"
            }
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": {
              "pt-BR": "Imagem",
              "it": "Immagine",
              "en": "Image",
              "es": "Imagen",
              "de": "Foto",
              "ja": "画像",
              "fr": "Image"
            }
          },
          {
            "type": "radio",
            "id": "image_align",
            "label": {
              "pt-BR": "Alinhamento da imagem",
              "it": "Allineamento immagine",
              "en": "Image alignment",
              "es": "Alineación de imagen",
              "de": "Fotoausrichtung",
              "ja": "画像アラインメント",
              "fr": "Alignement de l'image"
            },
            "options": [
              {
                "value": "top center",
                "label": {
                  "pt-BR": "Superior centro",
                  "it": "In alto al centro",
                  "en": "Top center",
                  "es": "Superior al centro",
                  "de": "Oben Mitte",
                  "ja": "中央上",
                  "fr": "En haut au centre"
                }
              },
              {
                "value": "center center",
                "label": {
                  "pt-BR": "Centro",
                  "it": "Al centro",
                  "en": "Center",
                  "es": "Centrar",
                  "de": "Mitte",
                  "ja": "中央",
                  "fr": "Au centre"
                }
              },
              {
                "value": "bottom center",
                "label": {
                  "pt-BR": "Inferior centro",
                  "it": "In basso al centro",
                  "en": "Bottom center",
                  "es": "Inferior al centro",
                  "de": "Unten mittig",
                  "ja": "中央下",
                  "fr": "En bas au centre"
                }
              }
            ],
            "default": "top center"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": {
          "pt-BR": "Texto com imagens",
          "it": "Colonne di testo con foto",
          "en": "Text columns with images",
          "es": "Col. de texto con imagen",
          "de": "Textspalten mit Fotos",
          "ja": "画像付きテキスト列",
          "fr": "Texte avec images"
        },
        "category": {
          "pt-BR": "Texto",
          "it": "Testo",
          "en": "Text",
          "es": "Texto",
          "de": "Text",
          "ja": "テキスト",
          "fr": "Texte"
        },
        "blocks": [
          {
            "type": "text_block"
          },
          {
            "type": "text_block"
          },
          {
            "type": "text_block"
          }
        ]
      }
    ]
  }
{% endschema %}
